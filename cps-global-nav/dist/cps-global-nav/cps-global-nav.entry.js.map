{"file":"cps-global-nav.entry.esm.js","mappings":"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","names":[],"sources":["src/context/LocationConfig.ts","src/context/get-location-config/helpers/build-sorted-full-path.ts","src/context/get-location-config/helpers/flatten-config.ts","src/context/get-location-config/helpers/is-path-match.ts","src/context/get-location-config/helpers/replace-tags-in-links.ts","src/context/get-location-config/get-location-config.ts","src/components/cps-global-nav/cps-global-nav.scss?tag=cps-global-nav&encapsulation=shadow","src/components/cps-global-nav/cps-global-nav.tsx"],"sourcesContent":["export type LinkCode = \"tasks\" | \"cases\" | \"details\" | \"case-materials\" | \"bulk-um-classification\" | \"review\" | \"cms-pre-charge-triage\";\n\nexport type OnwardLinkDefinitions = Partial<{ [key in LinkCode]: string }>;\n\nexport type PathMatcher = { paths: string[]; matchedLinkCode: LinkCode; showSecondRow: boolean; onwardLinks: OnwardLinkDefinitions };\n\nexport type MatchedPathMatcher = Omit<PathMatcher, \"paths\"> & {\n  href: string;\n  pathTags?: { [key: string]: string };\n};\n\nexport type AppLocationConfig = {\n  pathRoots: string[];\n  pathMatchers: PathMatcher[];\n};\n\nexport const appLocationConfigs: AppLocationConfig[] = [\n  {\n    pathRoots: [\"https://polaris-dev-notprod.cps.gov.uk/polaris-ui\", \"https://polaris-dev-cmsproxy.azurewebsites.net/polaris-ui\", \"http://localhost:3000/polaris-ui\"],\n    pathMatchers: [\n      {\n        paths: [\"/polaris-ui/case-details/(?<urn>[^/]+)/(?<caseId>\\\\d+).*taskId=(?<taskId>\\\\d+)\"],\n        matchedLinkCode: \"case-materials\",\n        showSecondRow: true,\n        onwardLinks: {\n          \"tasks\": \"https://cps-dev.outsystemsenterprise.com/WorkManagementApp/TaskList\",\n          \"cases\": \"https://cps-tst.outsystemsenterprise.com/WorkManagementApp/TaskList?IsCasesNavigation=true\",\n          \"bulk-um-classification\": \"https://housekeeping-fn-staging.int.cps.gov.uk/api/init/{caseId}\",\n          \"review\": \"https://cps-dev.outsystemsenterprise.com/CaseReview/RedirectCW?URN={urn}&CMSCaseId={caseId}\",\n          \"cms-pre-charge-triage\": \"/api/navigate-cms?action=activate_task&screen=case_details&taskId={taskId}&caseId={caseId}&wId=MASTER\",\n          \"details\": \"https://cps-tst.outsystemsenterprise.com/WorkManagementApp/CaseOverview?URN={urn}&CaseId={caseId}&IsDCFCase=false\",\n        },\n      },\n      {\n        paths: [\"/polaris-ui/case-details/(?<urn>[^/]+)/(?<caseId>\\\\d+)\"],\n        matchedLinkCode: \"case-materials\",\n        showSecondRow: true,\n        onwardLinks: {\n          \"tasks\": \"https://cps-dev.outsystemsenterprise.com/WorkManagementApp/TaskList\",\n          \"cases\": \"https://cps-tst.outsystemsenterprise.com/WorkManagementApp/TaskList?IsCasesNavigation=true\",\n          \"bulk-um-classification\": \"https://housekeeping-fn-staging.int.cps.gov.uk/api/init/{caseId}\",\n          \"review\": \"https://cps-dev.outsystemsenterprise.com/CaseReview/RedirectCW?URN={urn}&CMSCaseId={caseId}\",\n          \"details\": \"https://cps-tst.outsystemsenterprise.com/WorkManagementApp/CaseOverview?URN={urn}&CaseId={caseId}&IsDCFCase=false\",\n        },\n      },\n      {\n        paths: [\"/polaris-ui\"],\n        matchedLinkCode: \"case-materials\",\n        showSecondRow: false,\n        onwardLinks: {\n          tasks: \"https://cps-dev.outsystemsenterprise.com/WorkManagementApp/TaskList\",\n          cases: \"https://cps-tst.outsystemsenterprise.com/WorkManagementApp/TaskList?IsCasesNavigation=true\",\n        },\n      },\n    ],\n  },\n  {\n    pathRoots: [\"http://localhost:3333\"],\n    pathMatchers: [\n      {\n        paths: [\"/urns/(?<urn>[^/]+)/cases/(?<caseId>[^/]+)\"],\n        matchedLinkCode: \"tasks\",\n        showSecondRow: true,\n        // add query params in alphabetical order e.g. ?a=1&b=2&c=1 rather than ?b=2&a=1&c=1\n        onwardLinks: {\n          \"tasks\": \"http://localhost:3333/?urn={urn}&caseId={caseId}\",\n          \"cases\": \"http://localhost:3333/?urn={urn}&caseId={caseId}\",\n          \"bulk-um-classification\": \"/bulk-um-classification\",\n          \"review\": \"/review\",\n          \"details\": \"Please navigate to details page for case {caseId}\",\n        },\n      },\n      {\n        paths: [\"\"],\n        matchedLinkCode: \"tasks\",\n        showSecondRow: false,\n        onwardLinks: {\n          tasks: \"http://localhost:3333/urns/12AB121212/cases/11112222\",\n          cases: \"http://localhost:3333/urns/34AB343434/cases/333344444\",\n        },\n      },\n    ],\n  },\n];\n","export const buildSortedFullPath = ({ pathname, search }: Location) => {\n  const urlParams = new URLSearchParams(search);\n  urlParams.sort();\n  return pathname + (urlParams.size ? \"?\" : \"\") + urlParams.toString();\n};\n","import { AppLocationConfig, PathMatcher } from \"../../LocationConfig\";\n\nexport const flattenConfig = (appLocationConfigs: AppLocationConfig[]) => {\n  const result = [] as {\n    pathRoot: string;\n    path: string;\n    pathMatcherValues: Omit<PathMatcher, \"paths\">;\n  }[];\n\n  for (const appLocationConfig of appLocationConfigs) {\n    for (const pathRoot of appLocationConfig.pathRoots) {\n      for (const { paths, ...pathMatcherValues } of appLocationConfig.pathMatchers) {\n        for (const path of paths) {\n          result.push({\n            pathRoot,\n            path,\n            pathMatcherValues,\n          });\n        }\n      }\n    }\n  }\n  return result;\n};\n","import { flattenConfig } from \"./flatten-config\";\n\nexport const isPathMatch = ({ pathRoot, path, pathMatcherValues: { matchedLinkCode, showSecondRow } }: ReturnType<typeof flattenConfig>[0], href: string, fullPath: string) => {\n  const result = href.startsWith(pathRoot) && !!fullPath.match(path);\n  console.debug(`Matching ${fullPath} against ${pathRoot} -> ${path}: result ${result} ${result ? `(matchedLinkCode: ${matchedLinkCode}, showSecondRow: ${showSecondRow} )` : \"\"}`);\n  return result;\n};\n","import { MatchedPathMatcher, OnwardLinkDefinitions } from \"../../LocationConfig\";\n\nconst replaceTags = (source: string, pathTags: MatchedPathMatcher[\"pathTags\"]) =>\n  Object.keys(pathTags).reduce((acc, curr) => {\n    const tag = `{${curr}}`;\n    console.debug(`Replacing ${tag} in ${acc} with ${pathTags[curr]}`);\n    return acc.replace(new RegExp(tag, \"g\"), pathTags[curr]);\n  }, source);\n\nexport const replaceTagsInLinks = (linkDefinitions: OnwardLinkDefinitions, pathTags: MatchedPathMatcher[\"pathTags\"]) => {\n  if (!pathTags || !Object.keys(pathTags).length) {\n    return linkDefinitions;\n  }\n  return Object.keys(linkDefinitions).reduce((acc, curr) => {\n    acc[curr] = replaceTags(linkDefinitions[curr], pathTags);\n    return acc;\n  }, {} as OnwardLinkDefinitions);\n};\n","import { appLocationConfigs, MatchedPathMatcher } from \"../LocationConfig\";\nimport { buildSortedFullPath } from \"./helpers/build-sorted-full-path\";\nimport { flattenConfig } from \"./helpers/flatten-config\";\nimport { isPathMatch } from \"./helpers/is-path-match\";\nimport { replaceTagsInLinks } from \"./helpers/replace-tags-in-links\";\n\nexport const getLocationConfig = ({ location: { href } }: Window): MatchedPathMatcher => {\n  const fullPath = buildSortedFullPath(location);\n  const flatConfigs = flattenConfig(appLocationConfigs);\n  const config = flatConfigs.find(config => isPathMatch(config, href, fullPath));\n\n  if (!config) {\n    return null;\n  }\n\n  const {\n    path,\n    pathMatcherValues: { onwardLinks, ...rest },\n  } = config;\n\n  const pathTags = fullPath.match(path).groups;\n\n  return {\n    pathTags,\n    onwardLinks: replaceTagsInLinks(onwardLinks, pathTags),\n    href,\n    ...rest,\n  };\n};\n","@import \"node_modules/govuk-frontend/dist/govuk/index\";\n$level-height: 3rem;\n\n:host {\n  display: block;\n}\n\na.govuk-link {\n  color: $govuk-brand-colour;\n  @include govuk-font($size: 19);\n  text-decoration: none;\n\n  &:visited {\n    color: $govuk-brand-colour;\n  }\n}\n\n.background {\n  box-shadow: 0 0 0 100vmax govuk-colour(\"light-grey\");\n  clip-path: inset(0 -100vmax);\n  background-color: govuk-colour(\"light-grey\");\n}\n\n.background-divider {\n  height: 1px;\n  box-shadow: 0 0 0 100vmax $govuk-border-colour;\n  clip-path: inset(0 -100vmax);\n  background-color: $govuk-border-colour;\n  z-index: -1;\n}\n\n@mixin horizontal-list {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  height: $level-height;\n  display: flex;\n  align-items: center;\n  & > li {\n    float: left;\n    box-sizing: border-box;\n  }\n}\n\n.level-1 {\n  height: $level-height;\n  display: flex;\n  align-items: center;\n  ul {\n    @include horizontal-list();\n\n    nav-link {\n      align-self: stretch;\n\n      li {\n        height: 100%;\n\n        a {\n          display: inline-block;\n          padding: $level-height / 5;\n          font-weight: bold;\n        }\n      }\n    }\n    margin-left: -1 * $level-height / 5;\n  }\n\n  ul:last-child {\n    margin-left: auto;\n    li {\n      margin: 0;\n    }\n  }\n\n  li.selected:not(:has(:focus)):before {\n    background-color: #1d70b8;\n    content: \"\";\n    display: block;\n    height: 3px;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n  }\n\n  .selected {\n    position: relative;\n  }\n}\n\n$arrow-length: $level-height/2;\n\n.level-2 {\n  height: $level-height;\n  display: flex;\n  align-items: center;\n  background-color: govuk-colour(\"white\");\n\n  div:first-child {\n    position: relative;\n    display: grid;\n\n    @include govuk-font($size: 19);\n    font-weight: bold;\n    background-color: govuk-colour(\"light-grey\");\n    display: flex;\n    align-items: center;\n    height: $level-height;\n\n    .name {\n      display: block;\n      //min-width: 12rem;\n    }\n\n    &::before {\n      content: \"\";\n      background-color: govuk-colour(\"light-grey\");\n      position: absolute;\n      height: 100%;\n      width: 100vw;\n      left: -100vw;\n    }\n\n    &:after {\n      content: \"\";\n      background-color: govuk-colour(\"white\");\n      display: inline-block;\n      border-left: $arrow-length solid govuk-colour(\"light-grey\");\n      border-bottom: $arrow-length solid transparent;\n      border-top: $arrow-length solid transparent;\n    }\n\n    & + ul {\n      margin-left: 1rem;\n    }\n  }\n\n  & > ul {\n    @include horizontal-list();\n    //margin-left: -0.5rem;\n    li {\n      margin: 0 1.8rem 0 0;\n    }\n  }\n\n  .slot-container {\n    margin-left: auto;\n  }\n\n  ul:last-child {\n    li {\n      margin-right: 0;\n    }\n  }\n\n  .selected {\n    & > a,\n    & > button {\n      font-weight: bold;\n    }\n  }\n}\n\n.dropdown {\n  padding-right: 25px !important;\n\n  &:after {\n    left: inherit;\n    right: 0;\n    top: 10px;\n    content: \"\";\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid $govuk-link-colour;\n    position: absolute;\n  }\n\n  ul {\n    display: none;\n  }\n}\n\n.dropdown.active {\n  &:after {\n    transform: rotate(180deg);\n  }\n\n  ul {\n    display: block;\n    position: absolute !important;\n    top: 35px;\n    background: #f5f5f5;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    min-width: 250px;\n    box-shadow: 10px 10px 10px 10px rgba(0, 0, 0, 0.2);\n    border-top: 5px solid $govuk-link-colour;\n\n    &.align-right {\n      right: 0;\n    }\n\n    li {\n      padding: 0 !important;\n      margin: 0 !important;\n      a {\n        display: inline-block;\n        width: 92%;\n        font-size: 1.3rem;\n        padding: 2% 4%;\n      }\n    }\n  }\n}\n\na.disabled {\n  color: #b1b4b6;\n  pointer-events: none;\n  cursor: default;\n}\n\nul:has(.dropdown) {\n  @include horizontal-list();\n  margin-left: 1rem;\n  li {\n    position: relative;\n  }\n}\n\n.linkButton {\n  margin: 0.125rem;\n  display: inline;\n  background: transparent;\n  border-width: 0;\n  cursor: pointer;\n  font-size: 1.187rem;\n  width: fit-content;\n  color: #1d70b8;\n  @include govuk-font($size: 19);\n  padding: 0;\n  &:focus {\n    color: #0b0c0c;\n    background-color: $govuk-focus-colour;\n    box-shadow: 0 0.25rem 0 $govuk-input-border-colour;\n    outline: 0.1875rem solid transparent;\n  }\n}\n","import { Component, Prop, h, State, Fragment } from \"@stencil/core\";\nimport { getLocationConfig } from \"../../context/get-location-config\";\nimport { LinkCode, MatchedPathMatcher } from \"../../context/LocationConfig\";\n\ntype LinkHelperArg = { code: LinkCode; label: string; children?: LinkCode[]; openInNewTab?: boolean };\n\nconst SHOULD_SHOW_NAME = false;\nconst SHOULD_SHOW_CMS_LINKS = false;\nconst SHOULD_SHOW_MATERIALS_MENU = false;\n@Component({\n  tag: \"cps-global-nav\",\n  styleUrl: \"cps-global-nav.scss\",\n  shadow: true,\n})\nexport class CpsGlobalNav {\n  /**\n   * The text to appear at the start of the second row\n   */\n  @Prop() name: string = \"Please wait...\";\n  @State() config: MatchedPathMatcher;\n\n  async componentWillLoad() {\n    this.config = getLocationConfig(window);\n  }\n\n  linkHelper = ({ code, label, children = [], openInNewTab }: LinkHelperArg) => ({\n    label,\n    href: this.config.matchedLinkCode === code ? this.config.href : this.config?.onwardLinks[code],\n    selected: this.config?.matchedLinkCode === code || children.includes(this.config?.matchedLinkCode),\n    openInNewTab,\n  });\n\n  render() {\n    return (\n      <div>\n        <div class=\"level-1 background\">\n          <ul>\n            <nav-link {...this.linkHelper({ code: \"tasks\", label: \"Tasks\" })}></nav-link>\n            <nav-link {...this.linkHelper({ code: \"cases\", label: \"Cases\", children: [\"details\", \"case-materials\", \"review\"] })}></nav-link>\n          </ul>\n          <ul>\n            <nav-link label=\"Give feedback\" href=\"https://forms.office.com/e/Cxmsq5xTWx\"></nav-link>\n          </ul>\n        </div>\n        <div class=\"background-divider\"></div>\n        {this.config.showSecondRow && (\n          <>\n            <div class=\"level-2\">\n              {SHOULD_SHOW_NAME && (\n                <div class=\"background-left-only\">\n                  <span class=\"name\">{this.name}</span>\n                </div>\n              )}\n              <ul>\n                <nav-link {...this.linkHelper({ code: \"details\", label: \"Details\" })}></nav-link>\n\n                {SHOULD_SHOW_MATERIALS_MENU ? (\n                  <drop-down\n                    label=\"Materials\"\n                    links={[\n                      this.linkHelper({ code: \"case-materials\", label: \"Case Materials\" }),\n                      this.linkHelper({ code: \"bulk-um-classification\", label: \"Bulk UM classification\" }),\n                    ]}\n                  ></drop-down>\n                ) : (\n                  <nav-link {...this.linkHelper({ code: \"case-materials\", label: \"Materials\" })}></nav-link>\n                )}\n                <nav-link {...this.linkHelper({ code: \"review\", label: \"Review\" })}></nav-link>\n              </ul>\n              <div class=\"slot-container\">\n                <slot />\n              </div>\n              <ul>\n                {SHOULD_SHOW_CMS_LINKS && (\n                  <drop-down\n                    label=\"CMS Classic\"\n                    menuAlignment=\"right\"\n                    links={[this.linkHelper({ code: \"cms-pre-charge-triage\", label: \"Pre-charge triage\", openInNewTab: true })]}\n                  ></drop-down>\n                )}\n              </ul>\n            </div>\n            <div class=\"background-divider\"></div>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n"],"version":3}